(function(){var u={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var B=document.createElement("canvas");return !!window.WebGLRenderingContext&&(B.getContext("webgl")||B.getContext("experimental-webgl"))}catch(A){return false}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var A=document.createElement("div");A.id="webgl-error-message";A.style.fontFamily="monospace";A.style.fontSize="13px";A.style.fontWeight="normal";A.style.textAlign="center";A.style.background="#fff";A.style.color="#1d295a";A.style.padding="1.5em";A.style.width="400px";A.style.margin="5em auto 0";if(!this.webgl){A.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#1d295a">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#1d295a">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#1d295a">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#1d295a">here</a>.'].join("\n")}return A},addGetWebGLMessage:function(C){var A,D,B;C=C||{};A=C.parent!==undefined?C.parent:document.body;D=C.id!==undefined?C.id:"oldie";B=u.getWebGLErrorMessage();B.id=D;A.appendChild(B)}};if(!u.webgl){u.addGetWebGLMessage()}var l,g,z,o,e,q,h,x,c,d,b,k,n,p,t,w,j;l=false;g=window.innerWidth;z=window.innerHeight;o=Math.PI;q=65;h=6;x=(h*h);c=(h*q);d=(c/2);b=16777215;k=1911130;n=[];p=new THREE.WebGLRenderer({antialias:false});t=new THREE.PerspectiveCamera(45,(g/z),0.1,10000);w=new THREE.Scene();j=new THREE.Object3D();e={randomInRange:function(B,A){return Math.floor(Math.random()*(A-B+1))+B}};a(0,0,800);s(j);r(j);m(j);f(j);j.position.y=50;j.rotation.set(-60*(o/180),0,-45*(o/180));w.add(j);i(document.getElementById("service-canvas"));if(l){y()}else{TweenLite.ticker.addEventListener("tick",y)}window.addEventListener("resize",v,false);function v(){g=window.innerWidth;z=window.innerHeight;p.setSize(g,z);t.aspect=g/z;t.updateProjectionMatrix()}function a(A,C,B){t.position.set(A,C,B);w.add(t)}function s(D){var A,C,E,B;C=[];E=new THREE.BoxGeometry(c,c,0.05);E.faces[8].color.setHex(k);E.faces[9].color.setHex(k);E.colorsNeedUpdate=true;B=new THREE.MeshBasicMaterial({color:b,vertexColors:THREE.FaceColors});for(A=0;A<5;A++){C.push(new THREE.Mesh(E,B))}C[0].position.set(0,d,-d);C[0].rotation.x=90*(o/180);C[1].position.set(d,0,-d);C[1].rotation.y=-90*(o/180);C[2].position.set(0,-d,-d);C[2].rotation.x=-90*(o/180);C[3].position.set(-d,0,-d);C[3].rotation.y=90*(o/180);C[4].position.set(0,0,-c);C.forEach(function(F){D.add(F)})}function r(D){var A,C,E,B;C=[];E=new THREE.PlaneBufferGeometry(c,c);B=new THREE.MeshLambertMaterial({color:b});for(A=0;A<8;A++){C.push(new THREE.Mesh(E,B))}C[0].position.set(-c,c,0);C[1].position.set(0,c,0);C[2].position.set(c,c,0);C[3].position.set(-c,0,0);C[4].position.set(c,0,0);C[5].position.set(-c,-c,0);C[6].position.set(0,-c,0);C[7].position.set(c,-c,0);C.forEach(function(F){F.receiveShadow=true;D.add(F)})}function m(O){var G,L,I,N,K,P,D,A,E,F,B,J,H,M,C;L=new THREE.BoxGeometry(q,q,0.05);I=new THREE.MeshLambertMaterial({color:b});N=0;K=0;P=0;D=0;A=3;E=6;F=0.5;B=6;J=["x","y"];for(G=0;G<x;G++){n.push(new THREE.Mesh(L,I));if((G%h)===0){D=1;P++}else{D++}N=-(((h*q)/2)-((q)*D)+(q/2));K=-(((h*q)/2)-((q)*P)+(q/2));n[G].position.set(N,K,0)}n.forEach(function(Q){Q.castShadow=true;Q.receiveShadow=true;if(l){Q.rotation.x=(Math.random()*10)}else{C={ease:Elastic.easeOut,delay:e.randomInRange(F,B),repeat:-1};H=J[~~(Math.random()*J.length)];M=(Math.random()<0.5?-o:o);C[H]=M;TweenMax.to(Q.rotation,e.randomInRange(A,E),C)}O.add(Q)})}function f(B){var A,C;A=new THREE.DirectionalLight(b,1.25);C=new THREE.DirectionalLight(b,1.5);A.position.set(-c,-c,q*h);A.castShadow=true;A.shadowDarkness=0.5;C.position.set(c,c,q*h);B.add(A).add(C)}function i(A){p.setSize(g,z);console.log(p);p.setClearColor(b,1);p.shadowMapEnabled=true;A.appendChild(p.domElement)}function y(){p.render(w,t)}})();
